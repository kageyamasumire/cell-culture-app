<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>質量・分子量・濃度・体積 相互計算機</title>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<style>
body {
  background:#0f172a;
  color:#e5e7eb;
  font-family:sans-serif;
  padding:20px;
  line-height:1.6;
}
h2 {margin-top:0;}
.inlineinputs {
  display:flex;
  flex-wrap:wrap;
  gap:12px;
  align-items:center;
  margin-bottom:12px;
}
.inlineinputs label {
  margin-right:4px;
}
.inlineinputs input {
  width:90px;
  padding:6px;
  border-radius:6px;
  border:1px solid #334155;
  background:#0b1220;
  color:#e5e7eb;
}
button {
  margin-top:8px;
  padding:8px 14px;
  border-radius:6px;
  border:0;
  background:#2563eb;
  color:white;
  font-weight:600;
  cursor:pointer;
}
.result {
  margin-top:14px;
  white-space:pre-wrap;
  background:#0b1220;
  border:1px dashed #334155;
  padding:10px;
  border-radius:6px;
}
.note {
  font-size:0.9rem;
  color:#94a3b8;
  margin-top:10px;
}
</style>
</head>
<body>

<h2>質量・分子量・濃度・体積 相互計算機</h2>
<p>4つのうち<strong>3つを入力すると、残り1つを計算</strong>します。<br>
式は <code>C = (m / MW) / V</code> （C=濃度, m=質量(g), MW=分子量, V=体積(L)）。</p>

<div class="inlineinputs">
  <label>質量(g):</label>
  <input type="number" id="mass" step="any">

  <label>分子量:</label>
  <input type="number" id="mw" step="any">

  <label>濃度(M):</label>
  <input type="number" id="conc" step="any">

  <label>体積(L):</label>
  <input type="number" id="vol" step="any">
</div>

<button onclick="calc()">計算する</button>
<div id="out" class="result"></div>

<div class="note">
👉 入力例：<br>
- 分子量=58.44, 濃度=0.1, 体積=0.1 を入力 → 必要な質量が出る<br>
- 質量=0.5844, 分子量=58.44, 体積=0.1 を入力 → 濃度が出る
</div>

<script>
function fmt(x){
  if (!isFinite(x)) return String(x);
  return Number(x).toPrecision(5).replace(/(\.\d*?[1-9])0+$/,'$1').replace(/\.0+$/,'');
}

function calc(){
  let m = parseFloat(document.getElementById('mass').value);
  let mw = parseFloat(document.getElementById('mw').value);
  let c = parseFloat(document.getElementById('conc').value);
  let v = parseFloat(document.getElementById('vol').value);

  let known = [!isNaN(m), !isNaN(mw), !isNaN(c), !isNaN(v)].filter(x=>x).length;
  if(known < 3){
    document.getElementById('out').textContent = "⚠️ 4つのうち3つを入力してください。";
    return;
  }

  // どれを計算するか
  if(isNaN(m) && !isNaN(mw) && !isNaN(c) && !isNaN(v)){
    m = c * v * mw; // g
  } else if(isNaN(c) && !isNaN(m) && !
